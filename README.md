#MyWeatherApp

Здравствуйте в мое Погодное приложение!!!

    Это простое веб-приложение для отображения текущей погоды и более подробных данных с использованием OpenWeatherMap API. Здесь я буду изучать дополнительные инструменты для открытия моих проектов в веб


Функции

    - Пользователь выберает название города.
    - Приложение получает данные о погоде для этого города с помощью API OpenWeatherMap.
    - Приложение отображает текущую погоду и подробные данные о температуре, влажноси, вида осадков и т.д

Зависимости

    - Python ver 3.9
    - streamlit 1.33.0
    - requests 2.31.0
    - streamlit_lottie 0.0.5
    - json
    - datetime
    - base64


Установка

1. Клонируйте репозиторий на свой компьютер:
    С гравной папки 

2. Установите зависимости, используя `pip`:
    pip install "библиотеки с версиями в зависимости"

Использование

1. Запустите приложение:
    *****streamlit run main.py*****

2. Откройте браузер и перейдите по адресу:
    В командный сроке выйдет ссылка или автоматически откроется

3. Выберите название города и нажмите кнопку "Get Weather" для получения текущей погоды.


Функции кода:
    - get_weather(city): --- 
       Берет с сайта все данные о погоде и сохраняет их в глобальных переменных;

    - get_time(): --- 
    1. Функция формирует URL-запрос к API TimeZoneDB, указывая ключ API (api_key_time), формат ответа (format=json), 
       способ определения часового пояса (by=position) и координаты местоположения (lat - широта, lng - долгота).
    2. После получения ответа функция обрабатывает JSON-данные и извлекает текущее время.
    3. Время представлено в формате 24-часового времени, но функция преобразует его в формат 12-часового времени с указанием AM или PM.

    - load_lottiefile(filepath: str): ---
     Эта функция загружает файл JSON с анимацией Lottie из локального файла.

    - load_lottieurl(url: str): --- 
     Эта функция загружает файл JSON с анимацией Lottie из удаленного URL-адреса.

    - with open('cities.json', 'r') as file: ---
     Открывает файл JSON с названиями городов и загружает список городов из него.

    - st.set_page_config() ---
    Этот фрагмент используется для настройки конфигурации страницы в приложении Streamlit.
    1. настраивает заголовок страницы, который будет отображаться во вкладке браузера.
    2. Установка иконки страницы, которая будет отображаться во вкладке браузера.
    3. Начальное состояние боковой панели.

    - st.markdown(hide_menu_style, unsafe_allow_html = True) ---
     Прячет дефолтное меню от streamlit'а

    - add_bg_from_local(image_file):
    Эта функция используется для добавления фонового изображения на веб-страницу в приложении Streamlit из локального файла.
    1. Функция add_bg_from_local(image_file) принимает путь к изображению в качестве аргумента.
    2. Изображение открывается в режиме бинарного чтения ("rb") с помощью open().
    3. Содержимое изображения кодируется в строку Base64 с помощью base64.b64encode().
    4. Закодированная строка вставляется в стиль CSS для элемента .stApp, который является классом, используемым Streamlit для основного приложения.
    5. st.markdown() используется для вставки CSS стиля в HTML с помощью unsafe_allow_html=True, чтобы разрешить вставку HTML.

    Для постороения вида страницы используется колонки от streamlit и уже последующем сторится дизайн сайта.
    Вот пример c1, c2, c3 = st.columns([1,40,1]), дальше с использованием c1, c2, c3 с помощью метода with внутри поределенной переменной создаются элементы сайта.

    - weather() ---
    Функция  отвечает за вывод погодной информации и визуализацию на веб-странице, если была нажата кнопка 'Get weather'.
    1. Получает данные о погоде с помощью функции get_weather() для выбранного города.
    2. Выводит температуру в Фаренгейтах и Цельсиях, а также долготу и широту города.
    3. Отображает скорость ветра.
    4. Если условие выполняется, то выводит текущее время с помощью функции get_time().
    5. Создает вкладки с обзором погоды, влажностью, ветром и температурой.
    6. Во вкладке "Обзор" отображает иконку погоды и основные параметры погоды.
    7. В других вкладках отображает дополнительные графики и данные о влажности, ветре и температуре.
    8. Добавляет стили и анимации для отображения данных в столбцах.


Тесты были на:
    Window 11 Pro 23h2  64x


Автор: KarGalan
Контакт: dondishmen@gmail.com
